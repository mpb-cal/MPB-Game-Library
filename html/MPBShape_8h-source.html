<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MPBLibrary: MPBShape.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>MPBShape.h</h1><a href="MPBShape_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef __SHAPE_H__</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define __SHAPE_H__</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "<a class="code" href="MPBAABB_8h.html">MPBAABB.h</a>"</span>
00005 
<a name="l00006"></a><a class="code" href="MPBShape_8h.html#a0">00006</a> <span class="preprocessor">#define LOD 1</span>
00007 <span class="preprocessor"></span>
00008 <span class="keyword">class </span><a class="code" href="classMPBShape.html">MPBShape</a>;
00009 <span class="keyword">class </span><a class="code" href="classPlane.html">Plane</a>;
00010 <span class="keyword">class </span><a class="code" href="classMPBTexturedPlane.html">MPBTexturedPlane</a>;
00011 <span class="keyword">class </span><a class="code" href="classMPBLine.html">MPBLine</a>;
00012 <span class="keyword">class </span><a class="code" href="classMPBAnimation.html">MPBAnimation</a>;
00013 <span class="keyword">class </span><a class="code" href="classMPBCompositeShapeCell.html">MPBCompositeShapeCell</a>;
00014 
00015 
00016 <span class="keywordtype">bool</span> <a class="code" href="MPBShape_8cpp.html#a11">SortShapeFunc</a>( <a class="code" href="classMPBShape.html">MPBShape</a>* a, <a class="code" href="classMPBShape.html">MPBShape</a>* b );
00017 
<a name="l00018"></a><a class="code" href="classMPBShape.html">00018</a> <span class="keyword">class </span><a class="code" href="classMPBShape.html">MPBShape</a>
00019 {
00020 <span class="keyword">public</span>:
00021 
00022         <a class="code" href="classMPBShape.html#a0">MPBShape</a>();
00023         <span class="keyword">virtual</span> <a class="code" href="classMPBShape.html#a1">~MPBShape</a>();
00024 
00025         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a2">draw</a>( <span class="keywordtype">bool</span> useTexture, <span class="keywordtype">bool</span> shadowersOnly, <span class="keywordtype">bool</span> useColor );
00026         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a3">updateFrame</a>();
00027         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a4">drawShadowVolume</a>() <span class="keyword">const</span>;
00028         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a5">createShadowVolume</a>( <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; lightPos );
00029         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a6">cameraInShadowVolume</a>( <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; <a class="code" href="MPBGameEntities_8cpp.html#a9">cameraPos</a> ) <span class="keyword">const</span>;
00030         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a7">resetColor</a>();
00031         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a8">compile</a>();
00032         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a9">drawList</a>( <span class="keywordtype">int</span> lod, <span class="keywordtype">bool</span> useTexture, <span class="keywordtype">bool</span> useColor ) <span class="keyword">const</span>;
00033         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a10">addChild</a>( <a class="code" href="classMPBShape.html">MPBShape</a>* <a class="code" href="MPBRigidBodyBox_8cpp.html#a0">s</a> );
00034         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a11">addTexture</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name );
00035         
00036         <span class="comment">// transform drawing</span>
00037         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a12">resetDrawMatrix</a>();
00038         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a13">translateDraw</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
00039         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a14">rotateXDraw</a>( <span class="keywordtype">double</span> degrees );
00040         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a15">rotateYDraw</a>( <span class="keywordtype">double</span> degrees );
00041         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a16">rotateZDraw</a>( <span class="keywordtype">double</span> degrees );
00042         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a17">scaleDraw</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
00043 
00044         <span class="comment">// animation transform</span>
00045         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a18">resetAnimationMatrix</a>();
00046         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a19">translateAnimation</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
00047         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a20">rotateXAnimation</a>( <span class="keywordtype">double</span> degrees );
00048         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a21">rotateYAnimation</a>( <span class="keywordtype">double</span> degrees );
00049         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a22">rotateZAnimation</a>( <span class="keywordtype">double</span> degrees );
00050         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a23">scaleAnimation</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
00051         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a24">scaleTimeAnimations</a>( <span class="keywordtype">double</span> factor );
00052         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a25">startAnimations</a>();
00053         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a26">pauseAnimations</a>();
00054         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a27">unpauseAnimations</a>();
00055         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a28">stopAnimations</a>();
00056 
00057         <span class="comment">// texture coord transform</span>
00058         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a29">setTexCoords</a>(      <span class="keywordtype">int</span> texture,
00059                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; LL,
00060                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; LR,
00061                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; UR,
00062                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; UL     );
00063         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a30">setTexSize</a>( <span class="keywordtype">int</span> texture, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y );
00064 
<a name="l00065"></a><a class="code" href="classMPBShape.html#a31">00065</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a31">setDraw</a>( <span class="keywordtype">bool</span> set ) { m_draw = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00066"></a><a class="code" href="classMPBShape.html#a32">00066</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a32">setCastsShadow</a>( <span class="keywordtype">bool</span> set ) { m_castsShadow = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00067"></a><a class="code" href="classMPBShape.html#a33">00067</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a33">setReceivesShadow</a>( <span class="keywordtype">bool</span> set ) { m_receivesShadow = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00068"></a><a class="code" href="classMPBShape.html#a34">00068</a>         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a34">getReceivesShadow</a>() { <span class="keywordflow">return</span> m_receivesShadow; }
<a name="l00069"></a><a class="code" href="classMPBShape.html#a35">00069</a>         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a35">getDraw</a>() { <span class="keywordflow">return</span> m_draw; }
00070         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a36">setAmbientColor</a>( GLfloat r, GLfloat g, GLfloat b, GLfloat a );
00071         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a37">setDiffuseColor</a>( GLfloat r, GLfloat g, GLfloat b, GLfloat a );
00072         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a38">setSpecularColor</a>( GLfloat r, GLfloat g, GLfloat b, GLfloat a );
00073         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a39">setEmissionColor</a>( GLfloat r, GLfloat g, GLfloat b, GLfloat a );
00074         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a40">setShininess</a>( GLfloat s );
<a name="l00075"></a><a class="code" href="classMPBShape.html#a41">00075</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a41">setFrustumCull</a>( <span class="keywordtype">bool</span> set ) { m_frustumCull = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00076"></a><a class="code" href="classMPBShape.html#a42">00076</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a42">setBackfaceCull</a>( <span class="keywordtype">bool</span>      set ) { m_backfaceCull = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00077"></a><a class="code" href="classMPBShape.html#a43">00077</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a43">setCompile</a>( <span class="keywordtype">bool</span> set ) { m_compile = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00078"></a><a class="code" href="classMPBShape.html#a44">00078</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a44">setBillboard</a>( <span class="keywordtype">bool</span> set ) { m_billboard = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; <a class="code" href="classMPBShape.html#a43">setCompile</a>( !<a class="code" href="MPBPhysics_8cpp.html#a29">set</a> ); }
00079         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a45">setDrawn</a>( <span class="keywordtype">bool</span> set );
<a name="l00080"></a><a class="code" href="classMPBShape.html#a46">00080</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a46">setDisableFog</a>( <span class="keywordtype">bool</span> set ) { m_disableFog = <a class="code" href="MPBPhysics_8cpp.html#a29">set</a>; }
<a name="l00081"></a><a class="code" href="classMPBShape.html#a47">00081</a>         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a47">getFrustumCull</a>() { <span class="keywordflow">return</span> m_frustumCull; }
00082         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a48">setCollidable</a>( <span class="keywordtype">bool</span> set );
00083         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a49">createVertexArrays</a>();
<a name="l00084"></a><a class="code" href="classMPBShape.html#a50">00084</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a50">setAlpha</a>( <span class="keywordtype">bool</span> s ) { m_isAlpha = <a class="code" href="MPBRigidBodyBox_8cpp.html#a0">s</a>; }
<a name="l00085"></a><a class="code" href="classMPBShape.html#a51">00085</a>         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a51">getAlpha</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_isAlpha; }
<a name="l00086"></a><a class="code" href="classMPBShape.html#a52">00086</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a52">setLit</a>( <span class="keywordtype">bool</span> s ) { m_isLit = <a class="code" href="MPBRigidBodyBox_8cpp.html#a0">s</a>; }
<a name="l00087"></a><a class="code" href="classMPBShape.html#a53">00087</a>         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a53">getLit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_isLit; }
<a name="l00088"></a><a class="code" href="classMPBShape.html#a54">00088</a>         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a54">setCell</a>( <a class="code" href="classMPBCompositeShapeCell.html">MPBCompositeShapeCell</a>* cell ) { m_cell = cell; }
<a name="l00089"></a><a class="code" href="classMPBShape.html#a55">00089</a>         <a class="code" href="classMPBCompositeShapeCell.html">MPBCompositeShapeCell</a>* <a class="code" href="classMPBShape.html#a55">getCell</a>() { <span class="keywordflow">return</span> m_cell; }
00090 
00091         <span class="comment">// transform planes</span>
00092         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a56">translate</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
00093         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a57">rotateX</a>( <span class="keywordtype">double</span> degrees );
00094         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a58">rotateY</a>( <span class="keywordtype">double</span> degrees );
00095         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a59">rotateZ</a>( <span class="keywordtype">double</span> degrees );
00096         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a60">scale</a>( <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z );
00097 
00098         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="classMPBShape.html#a61">getPlane</a>( <span class="keywordtype">int</span> i ) <span class="keyword">const</span>;
00099         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a64">getPlanes</a>( vector&lt;MPBTexturedPlane*&gt;&amp; planeVector ) <span class="keyword">const</span>;
00100         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a64">getPlanes</a>( set&lt;MPBTexturedPlane*&gt;&amp; planeSet ) <span class="keyword">const</span>;
00101         <a class="code" href="classMPBTexturedPlane.html">MPBTexturedPlane</a>* <a class="code" href="classMPBShape.html#a64">getPlanes</a>() <span class="keyword">const</span>;
00102         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a65">isInViewFrustum</a>() <span class="keyword">const</span>;
00103         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a66">addPlane</a>( <a class="code" href="classMPBTexturedPlane.html">MPBTexturedPlane</a>* plane );
00104         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a67">addLine</a>( <a class="code" href="classMPBLine.html">MPBLine</a>* l );
00105         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a68">addAnimation</a>( <a class="code" href="classMPBAnimation.html">MPBAnimation</a>* l );
00106         <span class="keywordtype">bool</span> <a class="code" href="classMPBShape.html#a69">getPenetrationPoint</a>( <a class="code" href="classMPBVector.html">MPBVector</a> start, <a class="code" href="classMPBVector.html">MPBVector</a>&amp; point ) <span class="keyword">const</span>;
00107 
<a name="l00108"></a><a class="code" href="classMPBShape.html#a70">00108</a>         <span class="keywordtype">bool</span>                                                    <a class="code" href="classMPBShape.html#a70">isCollidable</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_collidable; }
<a name="l00109"></a><a class="code" href="classMPBShape.html#a71">00109</a>         <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp;                                  <a class="code" href="classMPBShape.html#a71">getAABB</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_aabb; }
00110         <span class="keywordtype">void</span> <a class="code" href="classMPBShape.html#a72">savePOVFile</a>( FILE* fp );
00111 
00112 <span class="keyword">protected</span>:
00113 
00114 <span class="comment">//      void doTransform() const;</span>
00115 
00116 <span class="keyword">private</span>:
00117 
00118         <span class="keywordtype">void</span> <a class="code" href="MPBCompositeShape_8cpp.html#a3">findAABB</a>();
00119 
00120         vector&lt;MPBShape*&gt;                               m_childVector;
00121         vector&lt;MPBTexturedPlane*&gt;       m_planeVector;
00122         vector&lt;MPBLine*&gt;                                m_lineVector;
00123         vector&lt;MPBAnimation*&gt;           m_animationVector;
00124         <a class="code" href="classMPBAABB.html">MPBAABB</a>                                                 m_aabb;                                 <span class="comment">// For view frustum culling.</span>
00125         <span class="keywordtype">bool</span>                                                            m_collidable;
00126         GLfloat                                                 m_drawMatrix[16];
00127         GLfloat                                                 m_animationMatrix[16];
00128         <span class="keywordtype">bool</span>                                                            m_compiled;
00129         <span class="keywordtype">bool</span>                                                            m_compile;
00130         GLuint                                                  m_displayList[<a class="code" href="MPBShape_8h.html#a0">LOD</a>];
00131         <span class="keywordtype">bool</span>                                                            m_frustumCull;
00132         <span class="keywordtype">bool</span>                                                            m_backfaceCull;
00133         <span class="keywordtype">bool</span>                                                            m_draw;
00134         <span class="keywordtype">bool</span>                                                            m_castsShadow;
00135         <span class="keywordtype">bool</span>                                                            m_receivesShadow;
00136         <span class="keywordtype">bool</span>                                                            m_billboard;
00137         <span class="keywordtype">bool</span>                                                            m_drawn;
00138         <span class="keywordtype">bool</span>                                                            m_disableFog;
00139         <span class="keywordtype">bool</span>                                                            m_isAlpha;
00140         <span class="keywordtype">bool</span>                                                            m_isLit;
00141         GLfloat*                                                        m_vertexArray;
00142         GLfloat*                                                        m_texCoordArray;
00143         <span class="keywordtype">int</span>                                                             m_numVertices;
00144         <a class="code" href="classMPBCompositeShapeCell.html">MPBCompositeShapeCell</a>*          m_cell;
00145 
00146         <a class="code" href="classMPBVector.html">MPBVector</a>                                               m_billboardOffset1;
00147         <a class="code" href="classMPBVector.html">MPBVector</a>                                               m_billboardOffset2;
00148         <a class="code" href="classMPBVector.html">MPBVector</a>                                               m_billboardOffset3;
00149         <a class="code" href="classMPBVector.html">MPBVector</a>                                               m_billboardOffset4;
00150 
00151         <span class="comment">// material properties</span>
00152         GLfloat                                                 m_ambientColor[4];
00153         GLfloat                                                 m_diffuseColor[4];
00154         GLfloat                                                 m_specularColor[4];
00155         GLfloat                                                 m_emissionColor[4];
00156         GLfloat                                                 m_shininess[1];
00157 };
00158 
00159 
00160 <span class="preprocessor">#endif</span>
00161 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Mar 13 22:08:19 2004 for MPBLibrary by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
