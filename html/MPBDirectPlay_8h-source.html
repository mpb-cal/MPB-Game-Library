<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MPBLibrary: MPBDirectPlay.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>MPBDirectPlay.h</h1><a href="MPBDirectPlay_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef __MPBDIRECTPLAY_H__</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define __MPBDIRECTPLAY_H__</span>
00003 <span class="preprocessor"></span>
00004 
00005 
<a name="l00006"></a><a class="code" href="MPBDirectPlay_8h.html#a0">00006</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="MPBDirectPlay_8h.html#a0">MPB_MAX_PLAYERS</a> = 10;
00007 
<a name="l00008"></a><a class="code" href="structClientUpdate.html">00008</a> <span class="keyword">struct </span><a class="code" href="structClientUpdate.html">ClientUpdate</a>
00009 {  
00010 <span class="comment">//      unsigned char   active[MPB_MAX_PLAYERS];</span>
00011 
00012 <span class="comment">//      long                            x[MPB_MAX_PLAYERS];</span>
00013 <span class="comment">//      long                            y[MPB_MAX_PLAYERS];</span>
00014 <span class="comment">//      long                            z[MPB_MAX_PLAYERS];</span>
00015 
00016 <span class="comment">//      float                           xRot[MPB_MAX_PLAYERS];</span>
00017 <span class="comment">//      float                           yRot[MPB_MAX_PLAYERS];</span>
00018 <span class="comment">//      float                           zRot[MPB_MAX_PLAYERS];</span>
00019 
00020 <span class="comment">//      long                            xe[MAX_ENEMIES];</span>
00021 <span class="comment">//      long                            ye[MAX_ENEMIES];</span>
00022 <span class="comment">//      long                            ze[MAX_ENEMIES];</span>
00023 
<a name="l00024"></a><a class="code" href="structClientUpdate.html#o0">00024</a>         <span class="keywordtype">int</span>                             <a class="code" href="structClientUpdate.html#o0">playerID</a>;
00025 };
00026 
00027 
<a name="l00028"></a><a class="code" href="structClientInput.html">00028</a> <span class="keyword">struct </span><a class="code" href="structClientInput.html">ClientInput</a>
00029 {  
00030 <span class="comment">//      unsigned char           keys[256];</span>
<a name="l00031"></a><a class="code" href="structClientInput.html#o0">00031</a>         <span class="keywordtype">long</span>                                    <a class="code" href="structClientInput.html#o0">xRotation</a>;
00032 <span class="comment">//      long                                    yRotation;</span>
00033 <span class="comment">//      long                                    zRotation;</span>
00034 <span class="comment">//      long                                    mouseX;</span>
00035 <span class="comment">//      long                                    mouseY;</span>
00036 <span class="comment">//      long                                    mouseZ;</span>
00037 <span class="comment">//      unsigned char           mouseB0;</span>
00038 <span class="comment">//      unsigned char           mouseB1;</span>
00039 };
00040 
00041 <span class="keyword">class </span><a class="code" href="classMPBCountdown.html">MPBCountdown</a>;
00042 
<a name="l00043"></a><a class="code" href="classMPBDirectPlay.html">00043</a> <span class="keyword">class </span><a class="code" href="classMPBDirectPlay.html">MPBDirectPlay</a>
00044 {
00045 <span class="keyword">public</span>:
00046 
00047         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e0">init</a>();
00048         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e1">cleanUp</a>();
00049         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e2">initDirectPlayServer</a>( <a class="code" href="MPBLibrary_8cpp.html#a0">DWORD</a> serverPort );
00050         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e3">initDirectPlayClient</a>( <span class="keyword">const</span> WCHAR serverIP[], <a class="code" href="MPBLibrary_8cpp.html#a0">DWORD</a> serverPort );
00051         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e4">sendInputToServer</a>();
00052         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e5">updateClient</a>( DPNID playerID, <span class="keyword">const</span> <a class="code" href="structClientUpdate.html">ClientUpdate</a>&amp; clientUpdate );
00053         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classMPBDirectPlay.html#e6">updateClients</a>( <a class="code" href="structClientUpdate.html">ClientUpdate</a>&amp; clientUpdate );
00054 
00055 <span class="keyword">private</span>:
00056 
00057         <span class="keyword">static</span> GUID                                                             m_guid;
00058         <span class="keyword">static</span> IDirectPlay8Server*                      m_dpServer;
00059         <span class="keyword">static</span> IDirectPlay8Client*                      m_dpClient;
00060         <span class="keyword">static</span> IDirectPlay8Address*             m_dpClientAddress;
00061         <span class="keyword">static</span> IDirectPlay8Address*             m_dpServerAddress;
00062         <span class="keyword">static</span> IDirectPlay8Address*             m_dpRemoteServerAddress;
00063         <span class="keyword">static</span> DPN_CONNECTION_INFO                      m_dpConnectionInfo;
00064         <span class="keyword">static</span> <a class="code" href="structClientInput.html">ClientInput</a>                                      m_clientInput;
00065         <span class="keyword">static</span> <a class="code" href="classMPBCountdown.html">MPBCountdown</a>*                                    m_connectionInfoCountdownServer;
00066 
00067         <span class="keyword">friend</span> HRESULT WINAPI <a class="code" href="classMPBDirectPlay.html#a3">DirectPlayMessageHandlerServer</a>( <span class="keywordtype">void</span> *pvContext, <a class="code" href="MPBLibrary_8cpp.html#a0">DWORD</a> dwMsgId, <span class="keywordtype">void</span> *pvMessage );
00068         <span class="keyword">friend</span> HRESULT WINAPI <a class="code" href="classMPBDirectPlay.html#a4">DirectPlayMessageHandlerClient</a>( <span class="keywordtype">void</span> *pvContext, <a class="code" href="MPBLibrary_8cpp.html#a0">DWORD</a> dwMsgId, <span class="keywordtype">void</span> *pvMessage );
00069 };
00070 
00071 
00072 <span class="preprocessor">#endif</span>
00073 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Mar 13 22:08:19 2004 for MPBLibrary by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
