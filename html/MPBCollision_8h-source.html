<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MPBLibrary: MPBCollision.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>MPBCollision.h</h1><a href="MPBCollision_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef __MPBCOLLISION_H__</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define __MPBCOLLISION_H__</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "<a class="code" href="MPBVector_8h.html">MPBVector.h</a>"</span>
00005 <span class="preprocessor">#include "<a class="code" href="MPBPlane_8h.html">MPBPlane.h</a>"</span>
00006 
00007 <span class="keyword">class </span><a class="code" href="classMPBAABB.html">MPBAABB</a>;
00008 <span class="keyword">class </span><a class="code" href="classMPBPhysicsObject.html">MPBPhysicsObject</a>;
00009 <span class="keyword">class </span><a class="code" href="classMPBShape.html">MPBShape</a>;
00010 <span class="keyword">class </span><a class="code" href="classMPB3DObject.html">MPB3DObject</a>;
00011 
00012 
<a name="l00013"></a><a class="code" href="classCollision.html">00013</a> <span class="keyword">class </span><a class="code" href="classCollision.html">Collision</a>
00014 {
00015         <span class="keyword">public</span>:
00016 
00017         <a class="code" href="classCollision.html#a0">Collision</a>(      <span class="keywordtype">double</span> distance, 
00018                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; newDestination,
00019                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; slideVector    );
00020 
<a name="l00021"></a><a class="code" href="classCollision.html#o0">00021</a>         <span class="keywordtype">double</span>                          <a class="code" href="classCollision.html#o0">m_distance</a>;
<a name="l00022"></a><a class="code" href="classCollision.html#o1">00022</a>         <a class="code" href="classMPBVector.html">MPBVector</a>                       <a class="code" href="classCollision.html#o1">m_newDestination</a>;
<a name="l00023"></a><a class="code" href="classCollision.html#o2">00023</a>         <a class="code" href="classMPBVector.html">MPBVector</a>                       <a class="code" href="classCollision.html#o2">m_slideVector</a>;
<a name="l00024"></a><a class="code" href="classCollision.html#o3">00024</a>         <a class="code" href="classMPBPhysicsObject.html">MPBPhysicsObject</a>*       <a class="code" href="classCollision.html#o3">m_targetObject</a>;
<a name="l00025"></a><a class="code" href="classCollision.html#o4">00025</a>         <a class="code" href="classPlane.html">Plane</a>*                          <a class="code" href="classCollision.html#o4">m_targetPlane</a>;
00026 };
00027 
<a name="l00028"></a><a class="code" href="structFrustum.html">00028</a> <span class="keyword">struct </span><a class="code" href="structFrustum.html">Frustum</a>
00029 {
<a name="l00030"></a><a class="code" href="structFrustum.html#o0">00030</a>         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="structFrustum.html#o0">Left</a>;
<a name="l00031"></a><a class="code" href="structFrustum.html#o1">00031</a>         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="structFrustum.html#o1">Right</a>;
<a name="l00032"></a><a class="code" href="structFrustum.html#o2">00032</a>         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="structFrustum.html#o2">Top</a>;
<a name="l00033"></a><a class="code" href="structFrustum.html#o3">00033</a>         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="structFrustum.html#o3">Bottom</a>;
<a name="l00034"></a><a class="code" href="structFrustum.html#o4">00034</a>         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="structFrustum.html#o4">Near</a>;
<a name="l00035"></a><a class="code" href="structFrustum.html#o5">00035</a>         <a class="code" href="classPlane.html">Plane</a>* <a class="code" href="structFrustum.html#o5">Far</a>;
00036 };
00037 
<a name="l00038"></a><a class="code" href="structPolyhedron.html">00038</a> <span class="keyword">struct </span><a class="code" href="structPolyhedron.html">Polyhedron</a>
00039 {
<a name="l00040"></a><a class="code" href="structPolyhedron.html#o0">00040</a>         vector&lt;Plane*&gt; <a class="code" href="structPolyhedron.html#o0">planes</a>;
00041 };
00042 
00043 <span class="keywordtype">void</span> <a class="code" href="MPBCollision_8cpp.html#a34">MPBCollisionTest</a>();
00044 
00045 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a8">collisionLessThan</a>( <span class="keyword">const</span> <a class="code" href="classCollision.html">Collision</a>* lhs, <span class="keyword">const</span> <a class="code" href="classCollision.html">Collision</a>* rhs );
00046 
00047 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a9">collisionSphereSphere</a>(     <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; startPosition,
00048                                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; destPosition,
00049                                                                                 <span class="keywordtype">double</span> radius1,
00050                                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; position2,
00051                                                                                 <span class="keywordtype">double</span> radius2,
00052                                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocityVector,
00053                                                                                 <span class="keywordtype">double</span> travelDistance,
00054                                                                                 <a class="code" href="classCollision.html">Collision</a>*&amp; collision   );
00055 
00056 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a10">collisionRaySphere</a>(        <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; source, 
00057                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; ray, 
00058                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; sphereCenter, 
00059                                                                         <span class="keywordtype">double</span> sphereRadius,
00060                                                                         <a class="code" href="classMPBVector.html">MPBVector</a>&amp; intersectionPointNear,
00061                                                                         <a class="code" href="classMPBVector.html">MPBVector</a>&amp; intersectionPointFar,
00062                                                                         <span class="keywordtype">double</span>&amp; distanceToIntersectionNear      ,
00063                                                                         <span class="keywordtype">double</span>&amp; distanceToIntersectionFar       );
00064 
00065 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a12">collisionAABBAABB</a>( <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; destPosition,
00066                                                                 <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb1,
00067                                                                 <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb2,
00068                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocityVector,
00069                                                                 <span class="keywordtype">double</span> travelDistance,
00070                                                                 <a class="code" href="classCollision.html">Collision</a>*&amp; collision   );
00071 
00072 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a13">collisionAABBShape</a>(        <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; destPosition,
00073                                                                         <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb1,
00074                                                                         <span class="keyword">const</span> <a class="code" href="classMPBShape.html">MPBShape</a>* shape,
00075                                                                         <a class="code" href="classCollision.html">Collision</a>*&amp; collision   );
00076 
00077 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a15">collisionAABBPlane</a>(        <span class="keywordtype">double</span> travelDistance,
00078                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocityVector,
00079                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocityVectorNormalized,
00080                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; destPosition,
00081                                                                         <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb1,
00082                                                                         <a class="code" href="classPlane.html">Plane</a>* plane,
00083                                                                         <a class="code" href="classCollision.html">Collision</a>*&amp; collision   );
00084 
00085 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a17">collisionPointAABB</a>(        <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; point,
00086                                                                         <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb     );
00087 
00088 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a16">collisionSpherePlane</a>(      <a class="code" href="classPlane.html">Plane</a>* plane, 
00089                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; sourcePosition, 
00090                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; destPosition, 
00091                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocityVector,        <span class="comment">// must be normalized!</span>
00092                                                                         <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; travelVector,  <span class="comment">// = non-normalized velocityVector</span>
00093                                                                         <span class="keywordtype">double</span> travelDistance,
00094                                                                         <span class="keywordtype">double</span> objectRadius,
00095                                                                         <a class="code" href="classCollision.html">Collision</a>*&amp; collision   );
00096 
00097 <a class="code" href="classMPBVector.html">MPBVector</a> <a class="code" href="MPBCollision_8cpp.html#a18">closestPointOnLine</a>(   <a class="code" href="classMPBVector.html">MPBVector</a> a,
00098                                                                                 <a class="code" href="classMPBVector.html">MPBVector</a> b,
00099                                                                                 <a class="code" href="classMPBVector.html">MPBVector</a> p     );
00100 
00101 <span class="keywordtype">void</span> <a class="code" href="MPBCollision_8cpp.html#a19">collisionBounce</a>(   <span class="keywordtype">double</span> elasticity,                                                      <span class="comment">// between 0.0 and 1.0</span>
00102                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; collisionPoint,                        <span class="comment">// in world coords</span>
00103                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocity1,
00104                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; velocity2,
00105                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; localVelocity1,
00106                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; localVelocity2,
00107                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; angularVelocity1,
00108                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; angularVelocity2,
00109                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; position1,
00110                                                                 <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; position2,
00111                                                                 <span class="keyword">const</span> <a class="code" href="classMPBQuaternion.html">MPBQuaternion</a>&amp; orientation1,
00112                                                                 <span class="keyword">const</span> <a class="code" href="classMPBQuaternion.html">MPBQuaternion</a>&amp; orientation2,
00113 <span class="comment">//                                                              const MPBVector&amp; rotation1,</span>
00114 <span class="comment">//                                                              const MPBVector&amp; rotation2,</span>
00115                                                                 <span class="keywordtype">double</span> mass1,
00116                                                                 <span class="keywordtype">double</span> mass2,
00117                                                                 <span class="keywordtype">double</span> inertia1,
00118                                                                 <span class="keywordtype">double</span> inertia2,
00119                                                                 <a class="code" href="classMPBVector.html">MPBVector</a>&amp; newVelocity1,                                        <span class="comment">// resulting velocity of object 1</span>
00120                                                                 <a class="code" href="classMPBVector.html">MPBVector</a>&amp; newVelocity2,                                        <span class="comment">// resulting velocity of object 2</span>
00121                                                                 <a class="code" href="classMPBVector.html">MPBVector</a>&amp; newAngularVelocity1,                 <span class="comment">// resulting angular velocity of object 1</span>
00122                                                                 <a class="code" href="classMPBVector.html">MPBVector</a>&amp; newAngularVelocity2,                 <span class="comment">// resulting angular velocity of object 2</span>
00123                                                                 <span class="keywordtype">bool</span> ignoreAngular      );
00124 
00125 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a20">pathIsClearSphere</a>(
00126         <a class="code" href="classMPBVector.html">MPBVector</a> from,
00127         <a class="code" href="classMPBVector.html">MPBVector</a> to,
00128         <span class="keywordtype">double</span> radius,
00129         <span class="keywordtype">bool</span> testObjects,
00130         <a class="code" href="classMPB3DObject.html">MPB3DObject</a>* source,    <span class="comment">// can be null</span>
00131         <a class="code" href="classMPB3DObject.html">MPB3DObject</a>* target     <span class="comment">// can be null</span>
00132 );
00133 
00134 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a26">pathIsClearAABB</a>(
00135         <a class="code" href="classMPBVector.html">MPBVector</a> from,
00136         <a class="code" href="classMPBVector.html">MPBVector</a> to,
00137         <span class="keywordtype">double</span> radius,
00138         <span class="keywordtype">bool</span> testObjects,
00139         <a class="code" href="classMPB3DObject.html">MPB3DObject</a>* source,    <span class="comment">// can be null</span>
00140         <a class="code" href="classMPB3DObject.html">MPB3DObject</a>* target     <span class="comment">// can be null</span>
00141 );
00142 
00143 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a28">aabbInFrustum</a>( <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb, <a class="code" href="structFrustum.html">Frustum</a>&amp; frustum );
00144 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a29">sphereInFrustum</a>( <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; center, <span class="keywordtype">double</span> radius, <a class="code" href="structFrustum.html">Frustum</a>&amp; frustum );
00145 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a30">pointsInFrustum</a>( <a class="code" href="classMPBVector.html">MPBVector</a>* pointList, <span class="keywordtype">int</span> points, <a class="code" href="structFrustum.html">Frustum</a>&amp; frustum );
00146 
00147 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a31">aabbInPolyhedron</a>( <span class="keyword">const</span> <a class="code" href="classMPBAABB.html">MPBAABB</a>&amp; aabb, <a class="code" href="structPolyhedron.html">Polyhedron</a>&amp; polyhedron );
00148 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a32">sphereInPolyhedron</a>( <span class="keyword">const</span> <a class="code" href="classMPBVector.html">MPBVector</a>&amp; center, <span class="keywordtype">double</span> radius, <a class="code" href="structPolyhedron.html">Polyhedron</a>&amp; polyhedron );
00149 <span class="keywordtype">bool</span> <a class="code" href="MPBCollision_8cpp.html#a33">pointsInPolyhedron</a>( <a class="code" href="classMPBVector.html">MPBVector</a>* pointList, <span class="keywordtype">int</span> points, <a class="code" href="structPolyhedron.html">Polyhedron</a>&amp; polyhedron );
00150 
00151 
00152 <span class="preprocessor">#endif</span>
00153 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Mar 13 22:08:19 2004 for MPBLibrary by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
