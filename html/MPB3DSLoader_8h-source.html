<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MPBLibrary: MPB3DSLoader.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>MPB3DSLoader.h</h1><a href="MPB3DSLoader_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef _3DS_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _3DS_H</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="preprocessor">#include "<a class="code" href="MPBLibrary_8h.html">MPBLibrary.h</a>"</span>
00006 
00008 
00009 <span class="comment">// This file includes all of the model structures that are needed to load</span>
00010 <span class="comment">// in a .3DS file.  If you intend to do animation you will need to add on</span>
00011 <span class="comment">// to this.  These structures only support the information that is needed</span>
00012 <span class="comment">// to load the objects in the scene and their associative materials.</span>
00013 
<a name="l00014"></a><a class="code" href="MPB3DSLoader_8h.html#a0">00014</a> <span class="preprocessor">#define MAX_TEXTURES 100                                                                // The maximum amount of textures to load</span>
00015 <span class="preprocessor"></span>
00016 <span class="comment">// This is our 3D point class.  This will be used to store the vertices of our model.</span>
<a name="l00017"></a><a class="code" href="classCVector3.html">00017</a> <span class="keyword">class </span><a class="code" href="classCVector3.html">CVector3</a> 
00018 {
00019 <span class="keyword">public</span>:
<a name="l00020"></a><a class="code" href="classCVector3.html#o2">00020</a>         <span class="keywordtype">float</span> <a class="code" href="classCVector3.html#o0">x</a>, <a class="code" href="classCVector3.html#o1">y</a>, <a class="code" href="classCVector3.html#o2">z</a>;
00021 };
00022 
00023 <span class="comment">// This is our 2D point class.  This will be used to store the UV coordinates.</span>
<a name="l00024"></a><a class="code" href="classCVector2.html">00024</a> <span class="keyword">class </span><a class="code" href="classCVector2.html">CVector2</a> 
00025 {
00026 <span class="keyword">public</span>:
<a name="l00027"></a><a class="code" href="classCVector2.html#o1">00027</a>         <span class="keywordtype">float</span> <a class="code" href="classCVector2.html#o0">x</a>, <a class="code" href="classCVector2.html#o1">y</a>;
00028 };
00029 
00030 <span class="comment">// This is our face structure.  This is is used for indexing into the vertex </span>
00031 <span class="comment">// and texture coordinate arrays.  From this information we know which vertices</span>
00032 <span class="comment">// from our vertex array go to which face, along with the correct texture coordinates.</span>
<a name="l00033"></a><a class="code" href="structtFace.html">00033</a> <span class="keyword">struct </span><a class="code" href="structtFace.html">tFace</a>
00034 {
<a name="l00035"></a><a class="code" href="structtFace.html#o0">00035</a>         <span class="keywordtype">int</span> <a class="code" href="structtFace.html#o0">vertIndex</a>[3];                       <span class="comment">// indicies for the verts that make up this triangle</span>
<a name="l00036"></a><a class="code" href="structtFace.html#o1">00036</a>         <span class="keywordtype">int</span> <a class="code" href="structtFace.html#o1">coordIndex</a>[3];                      <span class="comment">// indicies for the tex coords to texture this face</span>
00037 };
00038 
00039 <span class="comment">// This holds the information for a material.  It may be a texture map of a color.</span>
00040 <span class="comment">// Some of these are not used, but I left them because you will want to eventually</span>
00041 <span class="comment">// read in the UV tile ratio and the UV tile offset for some models.</span>
<a name="l00042"></a><a class="code" href="structtMaterialInfo.html">00042</a> <span class="keyword">struct </span><a class="code" href="structtMaterialInfo.html">tMaterialInfo</a>
00043 {
<a name="l00044"></a><a class="code" href="structtMaterialInfo.html#o0">00044</a>         <span class="keywordtype">char</span>  <a class="code" href="structtMaterialInfo.html#o0">strName</a>[255];                     <span class="comment">// The texture name</span>
<a name="l00045"></a><a class="code" href="structtMaterialInfo.html#o1">00045</a>         <span class="keywordtype">char</span>  <a class="code" href="structtMaterialInfo.html#o1">strFile</a>[255];                     <span class="comment">// The texture file name (If this is set it's a texture map)</span>
<a name="l00046"></a><a class="code" href="structtMaterialInfo.html#o2">00046</a>         <a class="code" href="MPBLibrary_8h.html#a1">BYTE</a>  <a class="code" href="structtMaterialInfo.html#o2">color</a>[3];                         <span class="comment">// The color of the object (R, G, B)</span>
<a name="l00047"></a><a class="code" href="structtMaterialInfo.html#o3">00047</a>         <span class="keywordtype">int</span>   <a class="code" href="structtMaterialInfo.html#o3">texureId</a>;                         <span class="comment">// the texture ID</span>
<a name="l00048"></a><a class="code" href="structtMaterialInfo.html#o4">00048</a>         <span class="keywordtype">float</span> <a class="code" href="structtMaterialInfo.html#o4">uTile</a>;                            <span class="comment">// u tiling of texture  (Currently not used)</span>
<a name="l00049"></a><a class="code" href="structtMaterialInfo.html#o5">00049</a>         <span class="keywordtype">float</span> <a class="code" href="structtMaterialInfo.html#o5">vTile</a>;                            <span class="comment">// v tiling of texture  (Currently not used)</span>
<a name="l00050"></a><a class="code" href="structtMaterialInfo.html#o6">00050</a>         <span class="keywordtype">float</span> <a class="code" href="structtMaterialInfo.html#o6">uOffset</a>;                      <span class="comment">// u offset of texture      (Currently not used)</span>
<a name="l00051"></a><a class="code" href="structtMaterialInfo.html#o7">00051</a>         <span class="keywordtype">float</span> <a class="code" href="structtMaterialInfo.html#o7">vOffset</a>;                          <span class="comment">// v offset of texture  (Currently not used)</span>
00052 } ;
00053 
00054 <span class="comment">// This holds all the information for our model/scene. </span>
00055 <span class="comment">// You should eventually turn into a robust class that </span>
00056 <span class="comment">// has loading/drawing/querying functions like:</span>
00057 <span class="comment">// LoadModel(...); DrawObject(...); DrawModel(...); DestroyModel(...);</span>
<a name="l00058"></a><a class="code" href="structt3DObject.html">00058</a> <span class="keyword">struct </span><a class="code" href="structt3DObject.html">t3DObject</a>
00059 {
<a name="l00060"></a><a class="code" href="structt3DObject.html#o0">00060</a>         <span class="keywordtype">int</span>  <a class="code" href="structt3DObject.html#o0">numOfVerts</a>;                        <span class="comment">// The number of verts in the model</span>
<a name="l00061"></a><a class="code" href="structt3DObject.html#o1">00061</a>         <span class="keywordtype">int</span>  <a class="code" href="structt3DObject.html#o1">numOfFaces</a>;                        <span class="comment">// The number of faces in the model</span>
<a name="l00062"></a><a class="code" href="structt3DObject.html#o2">00062</a>         <span class="keywordtype">int</span>  <a class="code" href="structt3DObject.html#o2">numTexVertex</a>;                      <span class="comment">// The number of texture coordinates</span>
<a name="l00063"></a><a class="code" href="structt3DObject.html#o3">00063</a>         <span class="keywordtype">int</span>  <a class="code" href="structt3DObject.html#o3">materialID</a>;                        <span class="comment">// The texture ID to use, which is the index into our texture array</span>
<a name="l00064"></a><a class="code" href="structt3DObject.html#o4">00064</a>         <span class="keywordtype">bool</span> <a class="code" href="structt3DObject.html#o4">bHasTexture</a>;                       <span class="comment">// This is TRUE if there is a texture map for this object</span>
<a name="l00065"></a><a class="code" href="structt3DObject.html#o5">00065</a>         <span class="keywordtype">char</span> <a class="code" href="structt3DObject.html#o5">strName</a>[255];                      <span class="comment">// The name of the object</span>
<a name="l00066"></a><a class="code" href="structt3DObject.html#o6">00066</a>         <a class="code" href="classCVector3.html">CVector3</a>  *<a class="code" href="structt3DObject.html#o6">pVerts</a>;                      <span class="comment">// The object's vertices</span>
<a name="l00067"></a><a class="code" href="structt3DObject.html#o7">00067</a>         <a class="code" href="classCVector3.html">CVector3</a>  *<a class="code" href="structt3DObject.html#o7">pNormals</a>;            <span class="comment">// The object's normals</span>
<a name="l00068"></a><a class="code" href="structt3DObject.html#o8">00068</a>         <a class="code" href="classCVector2.html">CVector2</a>  *<a class="code" href="structt3DObject.html#o8">pTexVerts</a>;           <span class="comment">// The texture's UV coordinates</span>
<a name="l00069"></a><a class="code" href="structt3DObject.html#o9">00069</a>         <a class="code" href="structtFace.html">tFace</a> *<a class="code" href="structt3DObject.html#o9">pFaces</a>;                          <span class="comment">// The faces information of the object</span>
00070 };
00071 
00072 <span class="comment">// This holds our model information.  This should also turn into a robust class.</span>
00073 <span class="comment">// We use STL's (Standard Template Library) vector class to ease our link list burdens. :)</span>
<a name="l00074"></a><a class="code" href="structt3DModel.html">00074</a> <span class="keyword">struct </span><a class="code" href="structt3DModel.html">t3DModel</a> 
00075 {
<a name="l00076"></a><a class="code" href="structt3DModel.html#a0">00076</a>         <a class="code" href="structt3DModel.html#a0">t3DModel::t3DModel</a>(): 
00077                 <a class="code" href="structt3DModel.html#o0">numOfObjects</a>( 0 ),
00078                 <a class="code" href="structt3DModel.html#o1">numOfMaterials</a>( 0 ) 
00079         {}
00080 
<a name="l00081"></a><a class="code" href="structt3DModel.html#o0">00081</a>         <span class="keywordtype">int</span> numOfObjects;                                       <span class="comment">// The number of objects in the model</span>
<a name="l00082"></a><a class="code" href="structt3DModel.html#o1">00082</a>         <span class="keywordtype">int</span> numOfMaterials;                                     <span class="comment">// The number of materials for the model</span>
<a name="l00083"></a><a class="code" href="structt3DModel.html#o2">00083</a>         vector&lt;tMaterialInfo&gt; pMaterials;       <span class="comment">// The list of material information (Textures and colors)</span>
<a name="l00084"></a><a class="code" href="structt3DModel.html#o3">00084</a>         vector&lt;t3DObject&gt; pObject;                      <span class="comment">// The object list for our model</span>
00085 };
00086 
00087 
00089 
<a name="l00090"></a><a class="code" href="MPB3DSLoader_8h.html#a16">00090</a> <span class="keyword">extern</span> <span class="keywordtype">bool</span>  <a class="code" href="MPB3DSLoader_8h.html#a16">g_bFullScreen</a>;                                                                     <span class="comment">// Set full screen as default</span>
<a name="l00091"></a><a class="code" href="MPB3DSLoader_8h.html#a17">00091</a> <span class="keyword">extern</span> HWND  <a class="code" href="MPB3DSLoader_8h.html#a17">g_hWnd</a>;                                                                            <span class="comment">// This is the handle for the window</span>
<a name="l00092"></a><a class="code" href="MPB3DSLoader_8h.html#a18">00092</a> <span class="keyword">extern</span> RECT  <a class="code" href="MPB3DSLoader_8h.html#a18">g_rRect</a>;                                                                           <span class="comment">// This holds the window dimensions</span>
<a name="l00093"></a><a class="code" href="MPB3DSLoader_8h.html#a19">00093</a> <span class="keyword">extern</span> HDC   <a class="code" href="MPB3DSLoader_8h.html#a19">g_hDC</a>;                                                                                     <span class="comment">// General HDC - (handle to device context)</span>
<a name="l00094"></a><a class="code" href="MPB3DSLoader_8h.html#a20">00094</a> <span class="keyword">extern</span> HGLRC <a class="code" href="MPB3DSLoader_8h.html#a20">g_hRC</a>;                                                                                     <span class="comment">// General OpenGL_DC - Our Rendering Context for OpenGL</span>
<a name="l00095"></a><a class="code" href="MPB3DSLoader_8h.html#a21">00095</a> <span class="keyword">extern</span> HINSTANCE <a class="code" href="MPB3DSLoader_8h.html#a21">g_hInstance</a>;                                                           <span class="comment">// This holds our window hInstance</span>
00096 
00097 <span class="comment">// This is our MAIN() for windows</span>
00098 <span class="keywordtype">int</span> WINAPI <a class="code" href="MPB3DSLoader_8h.html#a22">WinMain</a>(HINSTANCE hInstance, HINSTANCE hprev, PSTR cmdline, <span class="keywordtype">int</span> ishow);
00099 
00100 <span class="comment">// The window proc which handles all of window's messages.</span>
00101 LRESULT CALLBACK <a class="code" href="MPB3DSLoader_8h.html#a23">WinProc</a>(HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam);
00102 
00103 <span class="comment">// This controls our main program loop</span>
00104 WPARAM <a class="code" href="MPB3DSLoader_8h.html#a24">MainLoop</a>();
00105 
00106 <span class="comment">// This creates a texture and stores it in the texture array with it's ID.</span>
00107 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a25">CreateTexture</a>(UINT textureArray[], LPSTR strFileName, <span class="keywordtype">int</span> textureID);
00108 
00109 <span class="comment">// This changes the screen to full screen mode</span>
00110 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a26">ChangeToFullScreen</a>();
00111 
00112 <span class="comment">// This is our own function that makes creating a window modular and easy</span>
00113 HWND <a class="code" href="MPB3DSLoader_8h.html#a27">CreateMyWindow</a>(LPSTR strWindowName, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, DWORD dwStyle, <span class="keywordtype">bool</span> bFullScreen, HINSTANCE hInstance);
00114 
00115 <span class="comment">// This allows us to configure our window for OpenGL and backbuffered</span>
00116 <span class="keywordtype">bool</span> <a class="code" href="MPB3DSLoader_8h.html#a28">bSetupPixelFormat</a>(HDC hdc);
00117 
00118 <span class="comment">// This inits our screen translations and projections</span>
00119 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a29">SizeOpenGLScreen</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height);
00120 
00121 <span class="comment">// This sets up OpenGL</span>
00122 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a30">InitializeOpenGL</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height);
00123 
00124 <span class="comment">// This initializes the whole program</span>
00125 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a31">Init</a>(HWND hWnd);
00126 
00127 <span class="comment">// This draws everything to the screen</span>
00128 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a32">RenderScene</a>();
00129 
00130 <span class="comment">// This frees all our memory in our program</span>
00131 <span class="keywordtype">void</span> <a class="code" href="MPB3DSLoader_8h.html#a33">DeInit</a>();
00132 
00133 
00134 
00136 <span class="comment">//</span>
00137 <span class="comment">// * QUICK NOTES * </span>
00138 <span class="comment">//</span>
00139 <span class="comment">// This file includes all the structures that you need to hold the model data.</span>
00140 <span class="comment">// Of course, if you want a robust loader, you need some more things for animation, etc..</span>
00141 <span class="comment">// If you intend to use this code, I would make the model and object structures classes.</span>
00142 <span class="comment">// This way you can have a bunch of helper functions like Import(), Translate(), Render()...</span>
00143 <span class="comment">//</span>
00144 <span class="comment">// * What's An STL (Standard Template Library) Vector? *</span>
00145 <span class="comment">// Let me quickly explain the STL vector for those of you who are not familiar with them.</span>
00146 <span class="comment">// To use a vector you must include &lt;vector&gt; and use the std namespace: using namespace std;</span>
00147 <span class="comment">// A vector is an array based link list.  It allows you to dynamically add and remove nodes.</span>
00148 <span class="comment">// This is a template class so it can be a list of ANY type.  To create a vector of type</span>
00149 <span class="comment">// "int" you would say:  vector&lt;int&gt; myIntList;</span>
00150 <span class="comment">// Now you can add a integer to the dynamic array by saying: myIntList.push_back(10);</span>
00151 <span class="comment">// or you can say:  myIntList.push_back(num);.  The more you push back, the larger</span>
00152 <span class="comment">// your array gets.  You can index the vector like an array.  myIntList[0] = 0;</span>
00153 <span class="comment">// To get rid of a node you use the pop_back() function.  To clear the vector use clear().</span>
00154 <span class="comment">// It frees itself so you don't need to worry about it, except if you have data</span>
00155 <span class="comment">// structures that need information freed from inside them, like our objects.</span>
00156 <span class="comment">//</span>
00157 <span class="comment">// The Import() function would decide which loader it needed to call, depending on the extension.</span>
00158 <span class="comment">//</span>
00159 <span class="comment">//</span>
00160 <span class="comment">//</span>
00161 <span class="comment">// Ben Humphrey (DigiBen)</span>
00162 <span class="comment">// Game Programmer</span>
00163 <span class="comment">// DigiBen@GameTutorials.com</span>
00164 <span class="comment">// Co-Web Host of www.GameTutorials.com</span>
00165 <span class="comment">//</span>
00166 <span class="comment">//</span>
00167 
00168 
00169 <span class="comment">//&gt;------ Primary Chunk, at the beginning of each file</span>
<a name="l00170"></a><a class="code" href="MPB3DSLoader_8h.html#a1">00170</a> <span class="preprocessor">#define PRIMARY       0x4D4D</span>
00171 <span class="preprocessor"></span>
00172 <span class="comment">//&gt;------ Main Chunks</span>
<a name="l00173"></a><a class="code" href="MPB3DSLoader_8h.html#a2">00173</a> <span class="preprocessor">#define OBJECTINFO    0x3D3D                            // This gives the version of the mesh and is found right before the material and object information</span>
<a name="l00174"></a><a class="code" href="MPB3DSLoader_8h.html#a3">00174</a> <span class="preprocessor"></span><span class="preprocessor">#define VERSION       0x0002                            // This gives the version of the .3ds file</span>
<a name="l00175"></a><a class="code" href="MPB3DSLoader_8h.html#a4">00175</a> <span class="preprocessor"></span><span class="preprocessor">#define EDITKEYFRAME  0xB000                            // This is the header for all of the key frame info</span>
00176 <span class="preprocessor"></span>
00177 <span class="comment">//&gt;------ sub defines of OBJECTINFO</span>
<a name="l00178"></a><a class="code" href="MPB3DSLoader_8h.html#a5">00178</a> <span class="preprocessor">#define MATERIAL          0xAFFF                                // This stored the texture info</span>
<a name="l00179"></a><a class="code" href="MPB3DSLoader_8h.html#a6">00179</a> <span class="preprocessor"></span><span class="preprocessor">#define OBJECT            0x4000                                // This stores the faces, vertices, etc...</span>
00180 <span class="preprocessor"></span>
00181 <span class="comment">//&gt;------ sub defines of MATERIAL</span>
<a name="l00182"></a><a class="code" href="MPB3DSLoader_8h.html#a7">00182</a> <span class="preprocessor">#define MATNAME       0xA000                            // This holds the material name</span>
<a name="l00183"></a><a class="code" href="MPB3DSLoader_8h.html#a8">00183</a> <span class="preprocessor"></span><span class="preprocessor">#define MATDIFFUSE    0xA020                            // This holds the color of the object/material</span>
<a name="l00184"></a><a class="code" href="MPB3DSLoader_8h.html#a9">00184</a> <span class="preprocessor"></span><span class="preprocessor">#define MATMAP        0xA200                            // This is a header for a new material</span>
<a name="l00185"></a><a class="code" href="MPB3DSLoader_8h.html#a10">00185</a> <span class="preprocessor"></span><span class="preprocessor">#define MATMAPFILE    0xA300                            // This holds the file name of the texture</span>
00186 <span class="preprocessor"></span>
<a name="l00187"></a><a class="code" href="MPB3DSLoader_8h.html#a11">00187</a> <span class="preprocessor">#define OBJECT_MESH   0x4100                            // This lets us know that we are reading a new object</span>
00188 <span class="preprocessor"></span>
00189 <span class="comment">//&gt;------ sub defines of OBJECT_MESH</span>
<a name="l00190"></a><a class="code" href="MPB3DSLoader_8h.html#a12">00190</a> <span class="preprocessor">#define OBJECT_VERTICES     0x4110                      // The objects vertices</span>
<a name="l00191"></a><a class="code" href="MPB3DSLoader_8h.html#a13">00191</a> <span class="preprocessor"></span><span class="preprocessor">#define OBJECT_FACES            0x4120                  // The objects faces</span>
<a name="l00192"></a><a class="code" href="MPB3DSLoader_8h.html#a14">00192</a> <span class="preprocessor"></span><span class="preprocessor">#define OBJECT_MATERIAL         0x4130                  // This is found if the object has a material, either texture map or color</span>
<a name="l00193"></a><a class="code" href="MPB3DSLoader_8h.html#a15">00193</a> <span class="preprocessor"></span><span class="preprocessor">#define OBJECT_UV                       0x4140                  // The UV texture coordinates</span>
00194 <span class="preprocessor"></span>
00195 
00196 <span class="comment">// Here is our structure for our 3DS indicies (since .3DS stores 4 unsigned shorts)</span>
<a name="l00197"></a><a class="code" href="structtIndices.html">00197</a> <span class="keyword">struct </span><a class="code" href="structtIndices.html">tIndices</a> {                                                       
00198 
<a name="l00199"></a><a class="code" href="structtIndices.html#o2">00199</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structtIndices.html#o0">a</a>, <a class="code" href="structtIndices.html#o1">b</a>, <a class="code" href="structtIndices.html#o2">c</a>, <a class="code" href="structtIndices.html#o3">bVisible</a>;               <span class="comment">// This will hold point1, 2, and 3 index's into the vertex array plus a visible flag</span>
00200 };
00201 
00202 <span class="comment">// This holds the chunk info</span>
<a name="l00203"></a><a class="code" href="structtChunk.html">00203</a> <span class="keyword">struct </span><a class="code" href="structtChunk.html">tChunk</a>
00204 {
<a name="l00205"></a><a class="code" href="structtChunk.html#o0">00205</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="structtChunk.html#o0">ID</a>;                                  <span class="comment">// The chunk's ID               </span>
<a name="l00206"></a><a class="code" href="structtChunk.html#o1">00206</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtChunk.html#o1">length</a>;                                    <span class="comment">// The length of the chunk</span>
<a name="l00207"></a><a class="code" href="structtChunk.html#o2">00207</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtChunk.html#o2">bytesRead</a>;                                 <span class="comment">// The amount of bytes read within that chunk</span>
00208 };
00209 
00210 <span class="comment">// This class handles all of the loading code</span>
<a name="l00211"></a><a class="code" href="classCLoad3DS.html">00211</a> <span class="keyword">class </span><a class="code" href="classCLoad3DS.html">CLoad3DS</a>
00212 {
00213 <span class="keyword">public</span>:
00214         <a class="code" href="classCLoad3DS.html#a0">CLoad3DS</a>();                                                             <span class="comment">// This inits the data members</span>
00215 
00216         <span class="comment">// This is the function that you call to load the 3DS</span>
00217         <span class="keywordtype">bool</span> <a class="code" href="classCLoad3DS.html#a1">Import3DS</a>(<a class="code" href="structt3DModel.html">t3DModel</a> *pModel, <span class="keywordtype">char</span> *strFileName);
00218 
00219 <span class="keyword">private</span>:
00220         <span class="comment">// This reads in a string and saves it in the char array passed in</span>
00221         <span class="keywordtype">int</span> GetString(<span class="keywordtype">char</span> *);
00222 
00223         <span class="comment">// This reads the next chunk</span>
00224         <span class="keywordtype">void</span> ReadChunk(<a class="code" href="structtChunk.html">tChunk</a> *);
00225 
00226         <span class="comment">// This reads the next large chunk</span>
00227         <span class="keywordtype">void</span> ProcessNextChunk(<a class="code" href="structt3DModel.html">t3DModel</a> *pModel, <a class="code" href="structtChunk.html">tChunk</a> *);
00228 
00229         <span class="comment">// This reads the object chunks</span>
00230         <span class="keywordtype">void</span> ProcessNextObjectChunk(<a class="code" href="structt3DModel.html">t3DModel</a> *pModel, <a class="code" href="structt3DObject.html">t3DObject</a> *pObject, <a class="code" href="structtChunk.html">tChunk</a> *);
00231 
00232         <span class="comment">// This reads the material chunks</span>
00233         <span class="keywordtype">void</span> ProcessNextMaterialChunk(<a class="code" href="structt3DModel.html">t3DModel</a> *pModel, <a class="code" href="structtChunk.html">tChunk</a> *);
00234 
00235         <span class="comment">// This reads the RGB value for the object's color</span>
00236         <span class="keywordtype">void</span> ReadColorChunk(<a class="code" href="structtMaterialInfo.html">tMaterialInfo</a> *pMaterial, <a class="code" href="structtChunk.html">tChunk</a> *pChunk);
00237 
00238         <span class="comment">// This reads the objects vertices</span>
00239         <span class="keywordtype">void</span> ReadVertices(<a class="code" href="structt3DObject.html">t3DObject</a> *pObject, <a class="code" href="structtChunk.html">tChunk</a> *);
00240 
00241         <span class="comment">// This reads the objects face information</span>
00242         <span class="keywordtype">void</span> ReadVertexIndices(<a class="code" href="structt3DObject.html">t3DObject</a> *pObject, <a class="code" href="structtChunk.html">tChunk</a> *);
00243 
00244         <span class="comment">// This reads the texture coodinates of the object</span>
00245         <span class="keywordtype">void</span> ReadUVCoordinates(<a class="code" href="structt3DObject.html">t3DObject</a> *pObject, <a class="code" href="structtChunk.html">tChunk</a> *);
00246 
00247         <span class="comment">// This reads in the material name assigned to the object and sets the materialID</span>
00248         <span class="keywordtype">void</span> ReadObjectMaterial(<a class="code" href="structt3DModel.html">t3DModel</a> *pModel, <a class="code" href="structt3DObject.html">t3DObject</a> *pObject, <a class="code" href="structtChunk.html">tChunk</a> *pPreviousChunk);
00249         
00250         <span class="comment">// This computes the vertex normals for the object (used for lighting)</span>
00251         <span class="keywordtype">void</span> ComputeNormals(<a class="code" href="structt3DModel.html">t3DModel</a> *pModel);
00252 
00253         <span class="comment">// This frees memory and closes the file</span>
00254         <span class="keywordtype">void</span> CleanUp();
00255         
00256         <span class="comment">// The file pointer</span>
00257         FILE *m_FilePointer;
00258 };
00259 
00260 <span class="preprocessor">#endif</span>
00261 <span class="preprocessor"></span>
00262 
00264 <span class="comment">//</span>
00265 <span class="comment">// * QUICK NOTES * </span>
00266 <span class="comment">// </span>
00267 <span class="comment">// This file is created in the hopes that you can just plug it into your code</span>
00268 <span class="comment">// easily.  You will probably want to query more chunks though for animation, etc..</span>
00269 <span class="comment">//</span>
00270 <span class="comment">// </span>
00271 <span class="comment">// Ben Humphrey (DigiBen)</span>
00272 <span class="comment">// Game Programmer</span>
00273 <span class="comment">// DigiBen@GameTutorials.com</span>
00274 <span class="comment">// Co-Web Host of www.GameTutorials.com</span>
00275 <span class="comment">//</span>
00276 <span class="comment">//</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Mar 13 22:08:19 2004 for MPBLibrary by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
